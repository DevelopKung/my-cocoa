(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{546:function(t,e,r){var content=r(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("730f782e",content,!0,{sourceMap:!1})},550:function(t,e,r){"use strict";r(546)},551:function(t,e,r){var n=r(18)((function(i){return i[1]}));n.push([t.i,"\n.toolbars[data-v-1030c690] {\r\n  position: sticky;\r\n  top: 64px;\r\n  z-index: 2;\r\n  padding: 10px 0px 6px 0px;\r\n  border-top: 4px var(--v-primary-base) solid;\n}\r\n",""]),n.locals={},t.exports=n},552:function(t,e,r){"use strict";r.r(e);var n=r(603),o=r(542),c=r(61),l=r(243),d={props:{icon:{type:String,default:null},title:{type:String,default:null}}},f=(r(550),r(62)),component=Object(f.a)(d,(function(){var t=this,e=t._self._c;return e(c.a,{staticClass:"toolbars mb-3",attrs:{dense:"",outlined:"",flat:"",height:"auto","min-height":"45"}},[e(o.a,{attrs:{"no-gutters":"",align:"center"}},[t.title||t.icon?e(n.a,{staticClass:"mr-2",attrs:{cols:"auto"}},[e(l.a,[t.icon?e("i",{class:t.icon}):t._e(),t._v(" "),t.title?e("b",[t._v(t._s(t.title))]):t._e()])],1):t._e(),t._v(" "),e(n.a,[t._t("default")],2)],1)],1)}),[],!1,null,"1030c690",null);e.default=component.exports},606:function(t,e,r){var content=r(624);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(19).default)("6f2d995c",content,!0,{sourceMap:!1})},623:function(t,e,r){"use strict";r(606)},624:function(t,e,r){var n=r(18),o=r(345),c=r(625),l=n((function(i){return i[1]})),d=o(c);l.push([t.i,".bg-gradient[data-v-cc185a6c]{width:100%;min-width:100%;border-radius:10px;position:relative;color:#fff;padding:1.5rem;cursor:pointer}.bg-gradient[data-v-cc185a6c]:hover{transform:scale(1.02);transition-duration:1s}.bg-gradient .img[data-v-cc185a6c]{position:absolute;top:0;right:0;height:100%}.pink[data-v-cc185a6c]{background:linear-gradient(90deg, #ffbf96, #fe7096)}.blue[data-v-cc185a6c]{background:linear-gradient(90deg, #90caf9, #047edf 99%)}.green[data-v-cc185a6c]{background:linear-gradient(90deg, #84d9d2, #07cdae)}.purple[data-v-cc185a6c]{background:linear-gradient(90deg, #939de7, #6777ef)}.form-bill[data-v-cc185a6c]{max-width:100%;height:40rem;margin:0 auto;background-image:url("+d+') !important;background-repeat:no-repeat;background-size:cover;position:relative}.form-bill[data-v-cc185a6c]::before{content:"";background:#eeeeeee7;position:absolute;bottom:0;top:0;left:0;right:0}.form-bill .text--form[data-v-cc185a6c]{position:absolute}.form-bill .btn-close[data-v-cc185a6c]{position:absolute;right:10px;top:10px}',""]),l.locals={},t.exports=l},625:function(t,e,r){t.exports=r.p+"img/bg-cocoa.e5a54f4.png"},656:function(t,e,r){"use strict";r.r(e);var n=r(247),o=r(226),c=r(192),l=r(653),d=r(603),f=r(622),v=r(144),m=r(189),_=r(652),h=r(542),w=r(539),x=(r(11),r(16),r(17),r(5)),k=r(2),y=(r(48),r(4),r(9),r(193),r(12),r(10),r(64),r(69),r(126)),C=r(556),O=r.n(C);function j(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function D(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?j(Object(source),!0).forEach((function(e){Object(k.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):j(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={data:function(){return{bill:[],data:[],lists_product:[],lists_topping:[],description:null,preview:!1,page:1}},computed:{total_sum:function(){if(this.data&&this.data.length>0)return this.data.reduce((function(a,b){return a+b.total}),0)},item_bill:function(){if(this.page>0)return this.bill[this.page-1]}},methods:D(D({},Object(y.b)({loadDataProduct:"product/loadData",loadDataTopping:"topping/loadData",createBill:"bills/create"})),{},{addBill:function(t){var e=this;return Object(x.a)(regeneratorRuntime.mark((function r(){var n,form;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getTopping();case 2:n=Object.assign([],e.lists_topping).filter((function(t){return 1==t.status})),form={_id:t._id,price:t.price,topping:n},e.bill.push(form);case 5:case"end":return r.stop()}}),r)})))()},removeData:function(t){var e=this;O.a.fire({title:"ต้องการลบข้อมูลจริงหรือไม่ ?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ตกลง",cancelButtonText:"ไม่"}).then(function(){var r=Object(x.a)(regeneratorRuntime.mark((function r(n){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n.isConfirmed&&(e.page>1&&(e.page=t),e.bill.splice(t,1));case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())},previewData:function(t){var e=this;this.data=[],t.forEach((function(t){e.data.push({prod_id:t._id,price:t.price,total:t.price+t.topping.filter((function(t){return t.enabled})).reduce((function(a,b){return a+b.price}),0),topping:t.topping.filter((function(t){return t.enabled})),description:e.description,topping_ids:t.topping.filter((function(t){return t.enabled})).map((function(t){return t.topping_id}))})})),this.preview=!0},submit:function(data){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createBill(data);case 2:(r=e.sent).status?(O.a.fire({icon:"success",title:r.message}),t.data=[],t.description=null,t.preview=!1):O.a.fire({icon:"error",title:r.message});case 4:case"end":return e.stop()}}),e)})))()},getTopping:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadDataTopping();case 2:return r=e.sent,t.lists_topping=JSON.parse(JSON.stringify(r.payload)),t.lists_topping.forEach((function(t){t.enabled=!1})),e.abrupt("return",t.lists_topping);case 6:case"end":return e.stop()}}),e)})))()},getProduct:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadDataProduct();case 2:return r=e.sent,t.lists_product=JSON.parse(JSON.stringify(r.payload)),e.abrupt("return",t.lists_product);case 5:case"end":return e.stop()}}),e)})))()}}),created:function(){var t=this;return Object(x.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getProduct();case 2:return e.next=4,t.getTopping();case 4:case"end":return e.stop()}}),e)})))()}},R=P,B=(r(623),r(62)),component=Object(B.a)(R,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"pa-4"},[e("BarFilter",[e(h.a,{staticClass:"mb-3",attrs:{"no-gutters":"",align:"end"}},[t._l(t.lists_product,(function(r,i){return e(d.a,{key:i,attrs:{cols:"auto"}},[e(n.a,{attrs:{color:"primary",rounded:"",depressed:""},on:{click:function(e){return t.addBill(r)}}},[e(v.a,{attrs:{size:"14",left:""}},[t._v("fa fa-plus")]),t._v(" เพิ่ม "+t._s(r.prod_name)+"\n        ")],1)],1)})),t._v(" "),e(w.a),t._v(" "),e(d.a,{attrs:{cols:"auto"}},[e(n.a,{attrs:{color:"#00C853",dark:"",rounded:"",depressed:"",disabled:0==t.bill.length},on:{click:function(e){return t.previewData(t.bill)}}},[e(v.a,{attrs:{size:"14",dark:"",left:""}},[t._v("fas fa-eye")]),t._v(" ตรวจสอบ\n        ")],1)],1)],2)],1),t._v(" "),t.page>0&&t.item_bill?e("div",{staticClass:"text-center d-md-none d-sm-none"},[e(_.a,{attrs:{length:t.bill.length,circle:""},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1):t._e(),t._v(" "),e(h.a,{staticClass:"mt-4 d-none d-sm-flex d-md-flex form-pc"},t._l(t.bill,(function(b,i){return e(d.a,{key:i,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[e("div",{staticClass:"form-bill"},[e(n.a,{staticClass:"btn-close",attrs:{small:"",color:"error",depressed:"",dark:"",fab:""},on:{click:function(e){return t.removeData(i)}}},[e(v.a,{attrs:{dark:""}},[t._v("fas fa-times")])],1),t._v(" "),e("div",{staticClass:"text--form pa-4"},[e("div",[e("h2",[t._v("บิล "+t._s(i+1))])]),t._v(" "),e("div",t._l(b.topping,(function(r,n){return e(h.a,{key:n,staticClass:"my-0",attrs:{align:"center"}},[e(d.a,{staticClass:"py-0",attrs:{cols:"auto"}},[r.image?e(m.a,{attrs:{src:r.image,width:"50",height:"50"}}):e(v.a,{attrs:{size:"50",color:"#777"}},[t._v("mdi-image")])],1),t._v(" "),e(d.a,{staticClass:"py-0"},[e(l.a,{staticClass:"mt-0 pt-0",attrs:{left:"",label:r.topping_name+" ราคา "+r.price,"hide-details":""},model:{value:r.enabled,callback:function(e){t.$set(r,"enabled",e)},expression:"top.enabled"}})],1)],1)})),1)])],1)])})),1),t._v(" "),t.page>0&&t.item_bill?e(h.a,{staticClass:"mt-4 d-md-none d-sm-none form-mobile"},[e(d.a,{attrs:{cols:"12",sm:"4"}},[e("div",{staticClass:"form-bill"},[e(n.a,{staticClass:"btn-close",attrs:{small:"",color:"error",depressed:"",dark:"",fab:""},on:{click:function(e){return t.removeData(t.page-1)}}},[e(v.a,{attrs:{dark:""}},[t._v("fas fa-times")])],1),t._v(" "),e("div",{staticClass:"text--form pa-4"},[e("div",[e("h2",[t._v("บิล "+t._s(t.page))])]),t._v(" "),e("div",t._l(t.item_bill.topping,(function(r,n){return e(h.a,{key:n,staticClass:"my-0",attrs:{align:"center"}},[e(d.a,{staticClass:"py-0",attrs:{cols:"auto"}},[r.image?e(m.a,{attrs:{src:r.image,width:"50",height:"50"}}):e(v.a,{attrs:{size:"50",color:"#777"}},[t._v("mdi-image")])],1),t._v(" "),e(d.a,{staticClass:"py-0"},[e(l.a,{staticClass:"mt-0 pt-0",attrs:{left:"",label:r.topping_name+" ราคา "+r.price,"hide-details":""},model:{value:r.enabled,callback:function(e){t.$set(r,"enabled",e)},expression:"top.enabled"}})],1)],1)})),1)])],1)])],1):t._e(),t._v(" "),e(f.a,{attrs:{persistent:"","max-width":"400"},model:{value:t.preview,callback:function(e){t.preview=e},expression:"preview"}},[e(o.a,{staticClass:"py-4",attrs:{elevation:0}},[e(c.d,[e(h.a,[e("h2",[t._v("ตรวจสอบ")]),t._v(" "),e(w.a),t._v(" "),e(n.a,{attrs:{icon:""},on:{click:function(e){t.preview=!1}}},[e(v.a,[t._v("fas fa-times")])],1)],1)],1),t._v(" "),e(c.c,{staticClass:"mt-8"},t._l(t.data,(function(r,i){return e("div",{key:i,staticClass:"mt-4"},[e(h.a,{attrs:{align:"center",justify:"space-between"}},[e("div",[t._v(" บิลที่ "+t._s(i+1)+" โกโก้ใส่ท็อบปิ้ง  ")]),t._v(" "),e("div",[t._v(" "+t._s(r.total)+" บ. ")])]),t._v(" "),r.topping&&r.topping.length>0?e("div",{staticClass:"mt-4"},t._l(r.topping,(function(r,n){return e("div",{key:n},[t._v("\n              - "+t._s(r.topping_name)+" ราคา "+t._s(r.price)+" บ.\n            ")])})),0):t._e()],1)})),0),t._v(" "),e(c.d,[e(h.a,{attrs:{align:"center",justify:"space-between"}},[e("h4",[t._v("ราคารวม")]),t._v(" "),e("h4",[t._v(t._s(t._f("numeral")(t.total_sum)))])])],1),t._v(" "),e(c.a,{staticClass:"pb-0"},[e(w.a),t._v(" "),e(n.a,{attrs:{color:"error",depressed:""},on:{click:function(e){t.preview=!1}}},[t._v("\n          ปิด\n        ")]),t._v(" "),e(n.a,{attrs:{color:"success",depressed:""},on:{click:function(e){return t.submit(t.data)}}},[t._v("\n          ตกลง\n        ")])],1)],1)],1)],1)}),[],!1,null,"cc185a6c",null);e.default=component.exports;installComponents(component,{BarFilter:r(552).default})}}]);